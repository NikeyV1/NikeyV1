package de.nikey.nikeyv1.Anti_Exploits;

import org.bukkit.Material;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.inventory.InventoryAction;
import org.bukkit.event.inventory.InventoryClickEvent;

import java.util.Objects;

public class Stone_Swapping implements Listener {
    @EventHandler
    public void onInventoryClick(InventoryClickEvent event) {
        if (event.getAction() == InventoryAction.HOTBAR_MOVE_AND_READD || event.getAction() == InventoryAction.HOTBAR_SWAP) {
            int hotbarButton = event.getHotbarButton();
            if (event.getWhoClicked().getInventory().getItem(hotbarButton) != null) {
                if (event.getWhoClicked().getInventory().getItem(hotbarButton).getType() == Material.FIREWORK_STAR || event.getWhoClicked().getInventory().getItem(hotbarButton).getType() == Material.NETHERITE_SWORD && event.getWhoClicked().getInventory().getItem(hotbarButton).getItemMeta().hasLore()) {
                    event.setCancelled(true);
                    event.getWhoClicked().damage(4);
                    event.getWhoClicked().sendMessage("Â§cYou are not allowed to do that!");
                }
            }
        }
    }
}
